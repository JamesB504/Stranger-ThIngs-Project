{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jamesbarnes/Desktop/course_work/Stranger_Things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jamesbarnes/Desktop/course_work/Stranger_Things/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var BASE_URL=\"https://strangers-things.herokuapp.com/api/\";export var COHORT_NAME=\"2108-LSU-RM-WEB-PT\";export var API_URL=BASE_URL+COHORT_NAME;export var callApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url,method,token,body,options,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;_context.prev=1;options={method:method?method.toUpperCase():\"GET\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};if(token){options.headers[\"Authorization\"]=\"Bearer \".concat(token);}console.log(\"Call API Request URL: \",API_URL+url);console.log(\"Call API Options: \",options);_context.next=8;return fetch(API_URL+url,options);case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;console.log(\"data: \",data);if(!data.error){_context.next=15;break;}throw data.error;case 15:return _context.abrupt(\"return\",data);case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);console.error(\"ERROR: \",_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[1,18]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/api/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","console","log","fetch","response","json","data","error"],"mappings":"uVAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,6CAAjB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,oBAApB,CACP,MAAO,IAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAAGC,WAA3B,CAEP,MAAO,IAAME,CAAAA,OAAO,2FAAG,uLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,iBAGbC,OAHa,CAGH,CACdH,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACI,WAAP,EAAH,CAA0B,KAD1B,CAEdC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFK,CAKdH,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CALQ,CAHG,CAUnB,GAAID,KAAJ,CAAW,CACTE,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CJ,KAA7C,EACD,CACDO,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCZ,OAAO,CAAGE,GAAhD,EACAS,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCN,OAAlC,EAdmB,sBAeIO,CAAAA,KAAK,CAACb,OAAO,CAAGE,GAAX,CAAgBI,OAAhB,CAfT,QAebQ,QAfa,sCAgBAA,CAAAA,QAAQ,CAACC,IAAT,EAhBA,SAgBbC,IAhBa,eAiBnBL,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBI,IAAtB,EAjBmB,IAkBfA,IAAI,CAACC,KAlBU,+BAkBGD,CAAAA,IAAI,CAACC,KAlBR,yCAmBZD,IAnBY,4DAqBnBL,OAAO,CAACM,KAAR,CAAc,SAAd,cArBmB,qEAAH,kBAAPhB,CAAAA,OAAO,6CAAb","sourcesContent":["export const BASE_URL = \"https://strangers-things.herokuapp.com/api/\";\nexport const COHORT_NAME = \"2108-LSU-RM-WEB-PT\";\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n  //console.log('callApi: ', { url, method, token, body });\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    };\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    console.log(\"Call API Request URL: \", API_URL + url);\n    console.log(\"Call API Options: \", options);\n    const response = await fetch(API_URL + url, options);\n    const data = await response.json();\n    console.log(\"data: \", data);\n    if (data.error) throw data.error;\n    return data;\n  } catch (error) {\n    console.error(\"ERROR: \", error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}