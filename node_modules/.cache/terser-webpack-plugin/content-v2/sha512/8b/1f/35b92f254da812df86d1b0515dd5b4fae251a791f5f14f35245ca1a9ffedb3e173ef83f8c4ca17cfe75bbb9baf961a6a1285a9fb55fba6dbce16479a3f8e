{"code":"(this[\"webpackJsonp2021-11-27\"]=this[\"webpackJsonp2021-11-27\"]||[]).push([[0],{36:function(e,t,n){\"use strict\";n.r(t);var r=n(4),c=n.n(r),s=n(8),a=n(9),o=n(1),i=n(22),u=n.n(i),l=n(10),p=n(2),j=\"https://strangers-things.herokuapp.com/api/2108-LSU-RM-WEB-PT\",d=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,s,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,s=t.token,a=t.body,e.prev=1,o={method:r?r.toUpperCase():\"GET\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(a)},s&&(o.headers.Authorization=\"Bearer \".concat(s)),console.log(\"Call API Request URL: \",j+n),console.log(\"Call API Options: \",o),e.next=8,fetch(j+n,o);case 8:return i=e.sent,e.next=11,i.json();case 11:if(u=e.sent,console.log(\"data: \",u),!u.error){e.next=15;break}throw u.error;case 15:return e.abrupt(\"return\",u);case 18:e.prev=18,e.t0=e.catch(1),console.error(\"ERROR: \",e.t0);case 21:case\"end\":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),b=n(0),h=function(e){var t=e.action,n=e.setToken,r=(e.setUserData,Object(o.useState)(\"\")),i=Object(a.a)(r,2),u=i[0],j=i[1],h=Object(o.useState)(\"\"),O=Object(a.a)(h,2),x=O[0],f=O[1],v=\"login\"===t,g=v?\"Login\":\"Register\",m=v?\"Register\":\"Login\",w=v?\"register\":\"login\",k=Object(p.f)(),y=function(){var e=Object(s.a)(c.a.mark((function e(r){var s,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,d({url:\"/users/\".concat(t),body:{user:{username:u,password:x}},method:\"POST\"});case 3:a=e.sent,(o=null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.token)&&(localStorage.setItem(\"token\",o),j(\"\"),f(\"\"),n(o),k.push(\"/\"));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"h2\",{children:g}),Object(b.jsxs)(\"form\",{onSubmit:y,children:[Object(b.jsx)(\"input\",{type:\"text\",placeholder:\"username\",required:!0,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)(\"input\",{type:\"password\",placeholder:\"password\",onChange:function(e){return f(e.target.value)}}),Object(b.jsx)(\"button\",{type:\"submit\",children:g})]}),Object(b.jsx)(l.b,{to:\"/\".concat(w),children:m})]})},O={searchContainer:{display:\"flex\",justifyContent:\"center\",padding:\"16px\",alignItems:\"center\"},searchInput:{margin:\"0 16px\"}},x=function(e){var t=e.posts,n=Object(p.f)(),r=Object(o.useState)(\"\"),c=Object(a.a)(r,2),s=c[0],i=c[1],u=t.filter((function(e){return function(e,t){for(var n=t.toLowerCase(),r=0,c=[e.description,e.location,e.title,e.author.username];r<c.length;r++)if(c[r].toLowerCase().includes(n))return!0}(e,s)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(\"div\",{style:O.searchContainer,children:[Object(b.jsx)(\"h2\",{children:\"Posts\"}),Object(b.jsx)(\"input\",{style:O.searchInput,type:\"text\",placeholder:\"search for posts\",value:s,onChange:function(e){console.log(e.target.value),i(e.target.value)}})]}),u.length?u.map((function(e){return Object(b.jsxs)(\"div\",{style:{border:\"1px solid black\"},children:[Object(b.jsx)(\"h5\",{children:e.title}),Object(b.jsxs)(\"div\",{children:[\"Posted by: \",e.author.username]}),Object(b.jsxs)(\"div\",{children:[\"Description: \",e.description]}),Object(b.jsxs)(\"div\",{children:[\"Location: \",e.location]}),Object(b.jsx)(\"button\",{onClick:function(){return n.push(\"/posts/\".concat(e._id))},children:\"View Post\"})]},e._id)})):Object(b.jsx)(\"div\",{children:\"No posts to display\"})]})},f=function(e){var t=e.posts,n=Object(p.g)().postId,r=t.find((function(e){return n===e._id}));return console.log(\"SINGLE POST\",r),Object(b.jsx)(b.Fragment,{children:r?Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"h3\",{children:r.title}),Object(b.jsxs)(\"p\",{children:[\"Posted by: \",r.author.username]}),Object(b.jsxs)(\"p\",{children:[\"Price: \",r.price]}),Object(b.jsxs)(\"p\",{children:[\"Location: \",r.location]}),Object(b.jsxs)(\"p\",{children:[\"Delivers: \",r.willDeliver?\"Yes\":\"No\"]})]}):\"\"})},v=n(14),g=n(15),m=n(20),w=function(e){var t=e.token,n=e.setPosts,r=e.posts,i=e.action,u=Object(p.f)(),l=Object(p.g)().postId,j=Object(o.useState)({title:\"\",description:\"\",price:0,location:\"\",willDeliver:!1}),h=Object(a.a)(j,2),O=h[0],x=h[1],f=\"edit\"===i,w=f?\"Edit this post\":\"Add a new post\",k=f?\"PATCH\":\"POST\",y=f?\"/posts/\".concat(l):\"/posts\",C=function(){var e=Object(s.a)(c.a.mark((function e(s){var a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,d({url:y,method:k,body:{post:{title:O.title,description:O.description,price:O.price,location:O.location,willDeliver:O.willDeliver}},token:t});case 4:a=e.sent,o=a.data.post,f?(i=r.filter((function(e){return e._id!==l})),n([].concat(Object(m.a)(i),[o]))):n([].concat(Object(m.a)(r),[o])),u.push(\"/posts\"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(\"error adding a post: \",e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return function(t){x(\"willDeliver\"===e?Object(g.a)(Object(g.a)({},O),{},Object(v.a)({},e,t.target.checked)):Object(g.a)(Object(g.a)({},O),{},Object(v.a)({},e,t.target.value)))}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"h2\",{children:w}),Object(b.jsxs)(\"form\",{onSubmit:C,children:[Object(b.jsx)(\"input\",{type:\"text\",placeholder:\"title\",onChange:S(\"title\"),value:O.title}),Object(b.jsx)(\"input\",{type:\"text\",placeholder:\"description\",onChange:S(\"description\"),value:O.description}),Object(b.jsx)(\"input\",{type:\"number\",placeholder:\"price\",onChange:S(\"price\"),value:O.price}),Object(b.jsx)(\"input\",{type:\"text\",placeholder:\"location\",onChange:S(\"location\"),value:O.location}),Object(b.jsxs)(\"label\",{children:[\"Deliver ?\",Object(b.jsx)(\"input\",{type:\"checkbox\",onChange:S(\"willDeliver\"),value:O.willDeliver})]}),Object(b.jsx)(\"button\",{children:w})]})]})},k=function(){var e=Object(o.useState)(\"\"),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)({}),u=Object(a.a)(i,2),j=u[0],O=u[1],v=Object(o.useState)([]),g=Object(a.a)(v,2),m=g[0],k=g[1],y=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({url:\"/users/me\",token:t});case 2:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({url:\"/posts\"});case 2:return t=e.sent,n=t.data.posts,e.abrupt(\"return\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return r(localStorage.getItem(\"token\")),e.abrupt(\"return\");case 3:return e.next=5,y(n);case 5:(t=e.sent)&&t.username&&O(t);case 7:case\"end\":return e.stop()}}),e)}))),[n]),Object(o.useEffect)(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,k(t);case 4:case\"end\":return e.stop()}}),e)}))),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"h1\",{children:\"Stranger's Things\"}),Object(b.jsx)(l.b,{to:\"/posts/new\",children:\"Add A Post\"}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{exact:!0,path:\"/\",children:j.username&&Object(b.jsxs)(\"div\",{children:[\"Hello \",j.username]})}),Object(b.jsx)(p.a,{exact:!0,path:\"/posts\",children:Object(b.jsx)(x,{posts:m})}),Object(b.jsx)(p.a,{path:\"/posts/new\",children:Object(b.jsx)(w,{token:n,setPosts:k,posts:m,action:\"add\"})}),Object(b.jsx)(p.a,{path:\"/posts/:postId/edit\",children:Object(b.jsx)(w,{token:n,setPosts:k,posts:m,action:\"edit\"})}),Object(b.jsx)(p.a,{path:\"/posts/:postId\",children:Object(b.jsx)(f,{posts:m})}),Object(b.jsx)(p.a,{path:\"/register\",children:Object(b.jsx)(h,{action:\"register\",setToken:r,setUserData:O})}),Object(b.jsx)(p.a,{path:\"/login\",children:Object(b.jsx)(h,{action:\"login\",setToken:r,setUserData:O})})]})]})};u.a.render(Object(b.jsx)(l.a,{children:Object(b.jsx)(k,{})}),document.getElementById(\"app\"))}},[[36,1,2]]]);","name":"static/js/main.c750167d.chunk.js","map":{"version":3,"sources":["static/js/main.c750167d.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","react","react_dom","react_dom_default","react_router_dom","react_router","api_API_URL","BASE_URL","callApi","_ref2","Object","a","mark","_callee","_ref","url","method","token","body","options","response","data","wrap","_context","prev","next","toUpperCase","headers","JSON","stringify","concat","console","log","fetch","sent","json","error","abrupt","t0","stop","_x","apply","arguments","jsx_runtime","components_AccountForm","action","setToken","_useState","setUserData","_useState2","username","setUsername","_useState3","_useState4","password","setPassword","isLogin","title","oppositeTitle","oppositeAction","history","handleSubmit","event","_data$data","preventDefault","user","localStorage","setItem","children","onSubmit","type","placeholder","required","onChange","target","value","to","styles","searchContainer","display","justifyContent","padding","alignItems","searchInput","margin","components_Posts","posts","searchTerm","setSearchTerm","postsToDisplay","filter","post","searchTermLower","toLowerCase","_i","_toMatch","description","location","author","length","includes","postMatches","style","map","border","onClick","_id","components_SinglePost","postId","find","price","willDeliver","defineProperty","objectSpread2","toConsumableArray","components_NewPostForm","setPosts","newPost","setNewPost","isEdit","API_URL","_yield$callApi","filteredPosts","handlePostFieldChange","property","checked","src_App","userData","_useState5","_useState6","fetchUserData","fetchPosts","_callee2","_yield$callApi2","_context2","_callee3","_context3","getItem","_callee4","_context4","exact","path","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonp2021-11-27\"] = this[\"webpackJsonp2021-11-27\"] || []).push([[0],{\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(22);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/api/index.js\nvar BASE_URL=\"https://strangers-things.herokuapp.com/api/\";var COHORT_NAME=\"2108-LSU-RM-WEB-PT\";var api_API_URL=BASE_URL+COHORT_NAME;var callApi=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(_ref){var url,method,token,body,options,response,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;_context.prev=1;options={method:method?method.toUpperCase():\"GET\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};if(token){options.headers[\"Authorization\"]=\"Bearer \".concat(token);}console.log(\"Call API Request URL: \",api_API_URL+url);console.log(\"Call API Options: \",options);_context.next=8;return fetch(api_API_URL+url,options);case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;console.log(\"data: \",data);if(!data.error){_context.next=15;break;}throw data.error;case 15:return _context.abrupt(\"return\",data);case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);console.error(\"ERROR: \",_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[1,18]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/AccountForm.js\nvar AccountForm_AccountForm=function AccountForm(_ref){var action=_ref.action,setToken=_ref.setToken,setUserData=_ref.setUserData;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var isLogin=action===\"login\";var title=isLogin?\"Login\":\"Register\";var oppositeTitle=isLogin?\"Register\":\"Login\";var oppositeAction=isLogin?\"register\":\"login\";var history=Object(react_router[\"f\" /* useHistory */])();var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _data$data;var data,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/users/\".concat(action),body:{user:{username:username,password:password}},method:\"POST\"});case 3:data=_context.sent;token=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.token;if(token){localStorage.setItem(\"token\",token);setUsername(\"\");setPassword(\"\");setToken(token);history.push(\"/\");}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"username\",required:true,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:title})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\".concat(oppositeAction),children:oppositeTitle})]});};/* harmony default export */ var components_AccountForm = (AccountForm_AccountForm);\n// CONCATENATED MODULE: ./src/components/Posts.js\nvar styles={searchContainer:{display:\"flex\",justifyContent:\"center\",padding:\"16px\",alignItems:\"center\"},searchInput:{margin:\"0 16px\"}};var postMatches=function postMatches(post,searchTerm){var searchTermLower=searchTerm.toLowerCase();var description=post.description,location=post.location,title=post.title,username=post.author.username;var toMatch=[description,location,title,username];for(var _i=0,_toMatch=toMatch;_i<_toMatch.length;_i++){var field=_toMatch[_i];if(field.toLowerCase().includes(searchTermLower)){return true;}}};var Posts_Posts=function Posts(_ref){var posts=_ref.posts;var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var postsToDisplay=posts.filter(function(post){return postMatches(post,searchTerm);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:styles.searchContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Posts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:styles.searchInput,type:\"text\",placeholder:\"search for posts\",value:searchTerm,onChange:function onChange(event){console.log(event.target.value);setSearchTerm(event.target.value);}})]}),postsToDisplay.length?postsToDisplay.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{border:\"1px solid black\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:post.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Posted by: \",post.author.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Description: \",post.description]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Location: \",post.location]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return history.push(\"/posts/\".concat(post._id));},children:\"View Post\"})]},post._id);}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"No posts to display\"})]});};/* harmony default export */ var components_Posts = (Posts_Posts);\n// CONCATENATED MODULE: ./src/components/SinglePost.js\nvar SinglePost_SinglePost=function SinglePost(_ref){var posts=_ref.posts;var _useParams=Object(react_router[\"g\" /* useParams */])(),postId=_useParams.postId;var post=posts.find(function(post){return postId===post._id;});console.log(\"SINGLE POST\",post);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:post?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:post.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Posted by: \",post.author.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Price: \",post.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Location: \",post.location]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Delivers: \",post.willDeliver?\"Yes\":\"No\"]})]}):\"\"});};/* harmony default export */ var components_SinglePost = (SinglePost_SinglePost);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/components/NewPostForm.js\nvar NewPostForm_NewPostForm=function NewPostForm(_ref){var token=_ref.token,setPosts=_ref.setPosts,posts=_ref.posts,action=_ref.action;var history=Object(react_router[\"f\" /* useHistory */])();var _useParams=Object(react_router[\"g\" /* useParams */])(),postId=_useParams.postId;var _useState=Object(react[\"useState\"])({title:\"\",description:\"\",price:0,location:\"\",willDeliver:false}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newPost=_useState2[0],setNewPost=_useState2[1];var isEdit=action===\"edit\";var title=isEdit?\"Edit this post\":\"Add a new post\";var method=isEdit?\"PATCH\":\"POST\";var API_URL=isEdit?\"/posts/\".concat(postId):\"/posts\";var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$callApi,post,filteredPosts;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return callApi({url:API_URL,method:method,body:{post:{title:newPost.title,description:newPost.description,price:newPost.price,location:newPost.location,willDeliver:newPost.willDeliver}},token:token});case 4:_yield$callApi=_context.sent;post=_yield$callApi.data.post;if(isEdit){//* grab existing posts other than the one ive edited\n//* add in the post ive edited\nfilteredPosts=posts.filter(function(post){return post._id!==postId;});setPosts([].concat(Object(toConsumableArray[\"a\" /* default */])(filteredPosts),[post]));}else{//* Otherwise I am creating a post, so just take my old posts and add this new one to the bottom of the list\nsetPosts([].concat(Object(toConsumableArray[\"a\" /* default */])(posts),[post]));}//* No matter what send users to the /posts page when we are done\nhistory.push(\"/posts\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(\"error adding a post: \",_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handlePostFieldChange=function handlePostFieldChange(property){return function(event){if(property===\"willDeliver\"){setNewPost(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newPost),{},Object(defineProperty[\"a\" /* default */])({},property,event.target.checked)));}else{setNewPost(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newPost),{},Object(defineProperty[\"a\" /* default */])({},property,event.target.value)));}};};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"title\",onChange:handlePostFieldChange(\"title\"),value:newPost.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"description\",onChange:handlePostFieldChange(\"description\"),value:newPost.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"price\",onChange:handlePostFieldChange(\"price\"),value:newPost.price}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"location\",onChange:handlePostFieldChange(\"location\"),value:newPost.location}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Deliver ?\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onChange:handlePostFieldChange(\"willDeliver\"),value:newPost.willDeliver})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:title})]})]});};/* harmony default export */ var components_NewPostForm = (NewPostForm_NewPostForm);\n// CONCATENATED MODULE: ./src/components/index.js\n\n// CONCATENATED MODULE: ./src/index.js\nvar src_App=function App(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var fetchUserData=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(token){var _yield$callApi,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi({url:\"/users/me\",token:token});case 2:_yield$callApi=_context.sent;data=_yield$callApi.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUserData(_x){return _ref.apply(this,arguments);};}();var fetchPosts=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _yield$callApi2,posts;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return callApi({url:\"/posts\"});case 2:_yield$callApi2=_context2.sent;posts=_yield$callApi2.data.posts;return _context2.abrupt(\"return\",posts);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var data;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(token){_context3.next=3;break;}setToken(localStorage.getItem(\"token\"));return _context3.abrupt(\"return\");case 3:_context3.next=5;return fetchUserData(token);case 5:data=_context3.sent;if(data&&data.username){setUserData(data);}case 7:case\"end\":return _context3.stop();}}},_callee3);})),[token]);Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var posts;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetchPosts();case 2:posts=_context4.sent;setPosts(posts);case 4:case\"end\":return _context4.stop();}}},_callee4);})),[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Stranger's Things\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/posts/new\",children:\"Add A Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:userData.username&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Hello \",userData.username]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/posts\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Posts,{posts:posts})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/posts/new\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_NewPostForm,{token:token,setPosts:setPosts,posts:posts,action:\"add\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/posts/:postId/edit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_NewPostForm,{token:token,setPosts:setPosts,posts:posts,action:\"edit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/posts/:postId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SinglePost,{posts:posts})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/register\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AccountForm,{action:\"register\",setToken:setToken,setUserData:setUserData})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AccountForm,{action:\"login\",setToken:setToken,setUserData:setUserData})})]})]});};react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"app\"));\n\n/***/ })\n\n},[[36,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/api/index.js","/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/components/AccountForm.js","/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/components/Posts.js","/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/components/SinglePost.js","/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/components/NewPostForm.js","/Users/jamesbarnes/Desktop/course_work/Stranger_Things/src/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","console","log","fetch","response","json","data","error","AccountForm","action","setToken","setUserData","useState","username","setUsername","password","setPassword","isLogin","title","oppositeTitle","oppositeAction","history","useHistory","handleSubmit","event","preventDefault","user","localStorage","setItem","push","target","value","styles","searchContainer","display","justifyContent","padding","alignItems","searchInput","margin","postMatches","post","searchTerm","searchTermLower","toLowerCase","description","location","author","toMatch","field","includes","Posts","posts","setSearchTerm","postsToDisplay","filter","length","map","border","_id","SinglePost","useParams","postId","find","price","willDeliver","NewPostForm","setPosts","newPost","setNewPost","isEdit","filteredPosts","handlePostFieldChange","property","checked","App","userData","fetchUserData","fetchPosts","useEffect","getItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["export const BASE_URL = \"https://strangers-things.herokuapp.com/api/\";\nexport const COHORT_NAME = \"2108-LSU-RM-WEB-PT\";\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n  //console.log('callApi: ', { url, method, token, body });\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    };\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    console.log(\"Call API Request URL: \", API_URL + url);\n    console.log(\"Call API Options: \", options);\n    const response = await fetch(API_URL + url, options);\n    const data = await response.json();\n    console.log(\"data: \", data);\n    if (data.error) throw data.error;\n    return data;\n  } catch (error) {\n    console.error(\"ERROR: \", error);\n  }\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { callApi } from \"../api\";\n\nconst AccountForm = ({ action, setToken, setUserData }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const isLogin = action === \"login\";\n  const title = isLogin ? \"Login\" : \"Register\";\n  const oppositeTitle = isLogin ? \"Register\" : \"Login\";\n  const oppositeAction = isLogin ? \"register\" : \"login\";\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const data = await callApi({\n      url: `/users/${action}`,\n      body: { user: { username, password } },\n      method: \"POST\",\n    });\n    const token = data?.data?.token;\n\n    if (token) {\n      localStorage.setItem(\"token\", token);\n      setUsername(\"\");\n      setPassword(\"\");\n      setToken(token);\n      history.push(\"/\");\n    }\n  };\n  return (\n    <>\n      <h2>{title}</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"username\"\n          required\n          onChange={(event) => setUsername(event.target.value)}\n        ></input>\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          onChange={(event) => setPassword(event.target.value)}\n        ></input>\n        <button type=\"submit\">{title}</button>\n      </form>\n      <Link to={`/${oppositeAction}`}>{oppositeTitle}</Link>\n    </>\n  );\n};\n\nexport default AccountForm;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst styles = {\n  searchContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    padding: \"16px\",\n    alignItems: \"center\",\n  },\n  searchInput: {\n    margin: \"0 16px\",\n  },\n};\n\nconst postMatches = (post, searchTerm) => {\n  const searchTermLower = searchTerm.toLowerCase();\n  const {\n    description,\n    location,\n    title,\n    author: { username },\n  } = post;\n\n  const toMatch = [description, location, title, username];\n\n  for (const field of toMatch) {\n    if (field.toLowerCase().includes(searchTermLower)) {\n      return true;\n    }\n  }\n};\n\nconst Posts = ({ posts }) => {\n  const history = useHistory();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const postsToDisplay = posts.filter((post) => postMatches(post, searchTerm));\n  return (\n    <>\n      <div style={styles.searchContainer}>\n        <h2>Posts</h2>\n        <input\n          style={styles.searchInput}\n          type=\"text\"\n          placeholder=\"search for posts\"\n          value={searchTerm}\n          onChange={(event) => {\n            console.log(event.target.value);\n            setSearchTerm(event.target.value);\n          }}\n        ></input>\n      </div>\n      {postsToDisplay.length ? (\n        postsToDisplay.map((post) => (\n          <div key={post._id} style={{ border: \"1px solid black\" }}>\n            <h5>{post.title}</h5>\n            <div>Posted by: {post.author.username}</div>\n            <div>Description: {post.description}</div>\n            <div>Location: {post.location}</div>\n            <button onClick={() => history.push(`/posts/${post._id}`)}>\n              View Post\n            </button>\n          </div>\n        ))\n      ) : (\n        <div>No posts to display</div>\n      )}\n    </>\n  );\n};\n\nexport default Posts;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst SinglePost = ({ posts }) => {\n  const { postId } = useParams();\n  const post = posts.find((post) => postId === post._id);\n  console.log(\"SINGLE POST\", post);\n  return (\n    <>\n      {post ? (\n        <div>\n          <h3>{post.title}</h3>\n          <p>Posted by: {post.author.username}</p>\n          <p>Price: {post.price}</p>\n          <p>Location: {post.location}</p>\n          <p>Delivers: {post.willDeliver ? \"Yes\" : \"No\"}</p>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nexport default SinglePost;\n","import React, { useState } from \"react\";\nimport { callApi } from \"../api\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nconst NewPostForm = ({ token, setPosts, posts, action }) => {\n  const history = useHistory();\n  const { postId } = useParams();\n\n  const [newPost, setNewPost] = useState({\n    title: \"\",\n    description: \"\",\n    price: 0,\n    location: \"\",\n    willDeliver: false,\n  });\n  const isEdit = action === \"edit\";\n  const title = isEdit ? \"Edit this post\" : \"Add a new post\";\n  const method = isEdit ? \"PATCH\" : \"POST\";\n  const API_URL = isEdit ? `/posts/${postId}` : `/posts`;\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const {\n        data: { post },\n      } = await callApi({\n        url: API_URL,\n        method: method,\n        body: {\n          post: {\n            title: newPost.title,\n            description: newPost.description,\n            price: newPost.price,\n            location: newPost.location,\n            willDeliver: newPost.willDeliver,\n          },\n        },\n        token,\n      });\n\n      if (isEdit) {\n        //* grab existing posts other than the one ive edited\n        //* add in the post ive edited\n        const filteredPosts = posts.filter((post) => post._id !== postId);\n        setPosts([...filteredPosts, post]);\n      } else {\n        //* Otherwise I am creating a post, so just take my old posts and add this new one to the bottom of the list\n        setPosts([...posts, post]);\n      }\n      //* No matter what send users to the /posts page when we are done\n      history.push(\"/posts\");\n    } catch (error) {\n      console.error(\"error adding a post: \", error);\n    }\n  };\n\n  const handlePostFieldChange = (property) => (event) => {\n    if (property === \"willDeliver\") {\n      setNewPost({ ...newPost, [property]: event.target.checked });\n    } else {\n      setNewPost({ ...newPost, [property]: event.target.value });\n    }\n  };\n\n  return (\n    <>\n      <h2>{title}</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"title\"\n          onChange={handlePostFieldChange(\"title\")}\n          value={newPost.title}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"description\"\n          onChange={handlePostFieldChange(\"description\")}\n          value={newPost.description}\n        ></input>\n        <input\n          type=\"number\"\n          placeholder=\"price\"\n          onChange={handlePostFieldChange(\"price\")}\n          value={newPost.price}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"location\"\n          onChange={handlePostFieldChange(\"location\")}\n          value={newPost.location}\n        ></input>\n        <label>\n          Deliver ?\n          <input\n            type=\"checkbox\"\n            onChange={handlePostFieldChange(\"willDeliver\")}\n            value={newPost.willDeliver}\n          ></input>\n        </label>\n        <button>{title}</button>\n      </form>\n    </>\n  );\n};\n\nexport default NewPostForm;\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport { callApi } from \"./api\";\nimport { AccountForm, Posts, SinglePost, NewPostForm } from \"./components\";\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [posts, setPosts] = useState([]);\n\n  const fetchUserData = async (token) => {\n    const { data } = await callApi({\n      url: \"/users/me\",\n      token,\n    });\n    return data;\n  };\n\n  const fetchPosts = async () => {\n    const {\n      data: { posts },\n    } = await callApi({\n      url: \"/posts\",\n    });\n    return posts;\n  };\n\n  useEffect(async () => {\n    // const posts = await fetchPosts();\n    // setPosts(posts);\n    if (!token) {\n      setToken(localStorage.getItem(\"token\"));\n      return;\n    }\n    const data = await fetchUserData(token);\n    if (data && data.username) {\n      setUserData(data);\n    }\n  }, [token]);\n\n  useEffect(async () => {\n    const posts = await fetchPosts();\n    setPosts(posts);\n  }, []);\n\n  return (\n    <>\n      <h1>Stranger's Things</h1>\n      <Link to=\"/posts/new\">Add A Post</Link>\n      <Switch>\n        <Route exact path=\"/\">\n          {userData.username && <div>Hello {userData.username}</div>}\n        </Route>\n        <Route exact path=\"/posts\">\n          <Posts posts={posts} />\n        </Route>\n        <Route path=\"/posts/new\">\n          <NewPostForm\n            token={token}\n            setPosts={setPosts}\n            posts={posts}\n            action=\"add\"\n          />\n        </Route>\n        <Route path=\"/posts/:postId/edit\">\n          <NewPostForm\n            token={token}\n            setPosts={setPosts}\n            posts={posts}\n            action=\"edit\"\n          />\n        </Route>\n        <Route path=\"/posts/:postId\">\n          <SinglePost posts={posts} />\n        </Route>\n        <Route path=\"/register\">\n          <AccountForm\n            action=\"register\"\n            setToken={setToken}\n            setUserData={setUserData}\n          />\n        </Route>\n        <Route path=\"/login\">\n          <AccountForm\n            action=\"login\"\n            setToken={setToken}\n            setUserData={setUserData}\n          />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"app\")\n);\n"]}}